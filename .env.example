# =============================================================================
# ENVIRONMENT VARIABLES TEMPLATE FOR DARYAFTMANAZAM APPLICATION
# =============================================================================
# Copy this file to .env and fill in your production values
# NEVER commit .env file to version control
# =============================================================================

# -----------------------------------------------------------------------------
# Spring Profile
# -----------------------------------------------------------------------------
# Active Spring profile (dev, test, prod)
SPRING_PROFILES_ACTIVE=prod

# -----------------------------------------------------------------------------
# Database Configuration
# -----------------------------------------------------------------------------
# PostgreSQL connection URL
# Format: jdbc:postgresql://host:port/database_name
DB_URL=jdbc:postgresql://localhost:5432/daryaftmanazam

# Database username
DB_USER=postgres

# Database password (REQUIRED - must be set)
DB_PASSWORD=your_secure_database_password_here

# Connection pool settings (optional, defaults provided)
DB_POOL_MAX_SIZE=20
DB_POOL_MIN_IDLE=5
DB_CONNECTION_TIMEOUT=30000
DB_IDLE_TIMEOUT=600000
DB_MAX_LIFETIME=1800000

# -----------------------------------------------------------------------------
# Flyway Migration Configuration
# -----------------------------------------------------------------------------
# Enable/disable Flyway database migrations
FLYWAY_ENABLED=true

# -----------------------------------------------------------------------------
# Server Configuration
# -----------------------------------------------------------------------------
# Application server port
SERVER_PORT=8080

# Tomcat thread pool configuration (optional)
SERVER_TOMCAT_MAX_THREADS=200
SERVER_TOMCAT_MIN_SPARE_THREADS=10
SERVER_TOMCAT_MAX_CONNECTIONS=8192
SERVER_TOMCAT_ACCEPT_COUNT=100

# -----------------------------------------------------------------------------
# JWT Configuration
# -----------------------------------------------------------------------------
# JWT secret key for signing tokens (REQUIRED - must be strong and unique)
# Minimum 256 bits (32 characters) recommended
# Generate with: openssl rand -base64 32
JWT_SECRET=your_super_secret_jwt_key_minimum_256_bits_here

# JWT token expiration time in milliseconds
# Default: 3600000 (1 hour)
JWT_EXPIRATION=3600000

# JWT refresh token expiration time in milliseconds
# Default: 86400000 (24 hours)
JWT_REFRESH_EXPIRATION=86400000

# JWT issuer name
JWT_ISSUER=daryaftmanazam

# -----------------------------------------------------------------------------
# SMS Service Configuration
# -----------------------------------------------------------------------------
# Enable/disable SMS functionality
SMS_ENABLED=false

# SMS provider API key (required if SMS_ENABLED=true)
SMS_API_KEY=your_sms_provider_api_key_here

# SMS provider API URL
SMS_API_URL=https://api.sms.ir/v1

# Sender phone number (registered with SMS provider)
SMS_SENDER_NUMBER=your_sender_number_here

# SMS template IDs (if using template-based SMS)
SMS_TEMPLATE_SUBSCRIPTION_REMINDER=
SMS_TEMPLATE_PAYMENT_CONFIRMATION=

# SMS retry configuration
SMS_RETRY_MAX_ATTEMPTS=3
SMS_RETRY_BACKOFF_PERIOD=1000

# -----------------------------------------------------------------------------
# Logging Configuration
# -----------------------------------------------------------------------------
# Root logging level (TRACE, DEBUG, INFO, WARN, ERROR)
LOGGING_LEVEL_ROOT=INFO

# Application-specific logging level
LOGGING_LEVEL_APP=INFO

# Spring framework logging levels
LOGGING_LEVEL_SPRING_WEB=WARN
LOGGING_LEVEL_SPRING_SECURITY=WARN

# Hibernate logging levels
LOGGING_LEVEL_HIBERNATE=WARN
LOGGING_LEVEL_HIBERNATE_SQL=WARN
LOGGING_LEVEL_HIBERNATE_BINDER=WARN

# Log file configuration
LOGGING_FILE_PATH=/var/log/daryaftmanazam/app.log
LOGGING_FILE_MAX_SIZE=10MB
LOGGING_FILE_MAX_HISTORY=30
LOGGING_FILE_TOTAL_SIZE_CAP=300MB

# -----------------------------------------------------------------------------
# Monitoring & Metrics
# -----------------------------------------------------------------------------
# Enable Prometheus metrics export
METRICS_PROMETHEUS_ENABLED=false

# -----------------------------------------------------------------------------
# Rate Limiting Configuration
# -----------------------------------------------------------------------------
# Enable/disable rate limiting
RATE_LIMITING_ENABLED=true

# Default rate limit (requests per window)
RATE_LIMITING_DEFAULT_RATE=100

# Rate limiting window in milliseconds
RATE_LIMITING_DEFAULT_WINDOW=60000

# -----------------------------------------------------------------------------
# Application Settings
# -----------------------------------------------------------------------------
# Application timezone
APP_TIMEZONE=Asia/Tehran

# Application locale
APP_LOCALE=fa_IR

# CORS configuration
CORS_ALLOWED_ORIGINS=http://localhost:3000,https://yourdomain.com
CORS_ALLOWED_METHODS=GET,POST,PUT,DELETE,OPTIONS
CORS_ALLOWED_HEADERS=*
CORS_ALLOW_CREDENTIALS=true

# -----------------------------------------------------------------------------
# Scheduled Tasks Configuration
# -----------------------------------------------------------------------------
# Enable/disable scheduled tasks
SCHEDULER_ENABLED=true

# Subscription reminder cron expression (default: daily at 9 AM)
# Format: second minute hour day month weekday
SUBSCRIPTION_REMINDER_CRON=0 0 9 * * ?

# =============================================================================
# PRODUCTION DEPLOYMENT NOTES
# =============================================================================
# 1. Ensure all REQUIRED variables are set before deployment
# 2. Use strong, unique values for JWT_SECRET and DB_PASSWORD
# 3. Configure SMS credentials if enabling SMS functionality
# 4. Adjust logging levels based on your monitoring needs
# 5. Review and adjust connection pool settings based on load testing
# 6. Set appropriate CORS_ALLOWED_ORIGINS for your domain(s)
# 7. Ensure log directory exists and has proper write permissions
# 8. Consider using secret management tools for sensitive values
# =============================================================================
